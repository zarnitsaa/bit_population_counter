module bit_population_counter #(

parameter int WIDTH=20

)(
input logic clk_i,
input logic srst_i,
input logic [WIDTH-1:0] data_i,
input logic data_val_i,
output logic [$clog2(WIDTH):0] data_o,
output logic [1:0] data_val_o
);

logic [WIDTH-1:0] width;
//assign width=1'b0;
assign data_val_o=data_val_i;
always_comb

begin
	if (srst_i)
		data_val_o=0;
	else if (data_val_i)
		for (int i=0; i<WIDTH; i++) begin
			//data_o<=data_o+data_i[width];
			width=width+data_i[i];
		end 
	else
		data_val_o<=1'b0;
end

always_ff @(posedge clk_i)
data_o<=width;
endmodule
